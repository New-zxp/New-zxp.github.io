---
title: 学生管理系统
date: 2022-12-30
tags: 项目
categories: 项目
description: 学生管理系统
cover: https://zhuxinpeng.oss-cn-hangzhou.aliyuncs.com/3.jpg
---
**版本信息**

- jdk：1.8.0_341
- MySQL：8.0.31
- tomcat：2.7.4
- SpringBoot：2.7.4
- mybatis-plus：3.4.2
- fastjson：1.2.62
- druid：1.2.13

**项目结构**

Java类

- Student：Student的实体类

- GlobalExceptionHandler：全局异常处理器，当学号重复时，违反了数据库的唯一约束条件，我们需要针对这个异常进行处理，当注册学号已存在时返回给页面“学号已经存在”的信息
- JacksonObjectMapper：基于jackson将Java对象转为json，或者将json转为Java对象，这样页面传递给后端例如长整型数字时，不用担心丢失精度问题
- R：约定后端返回给页面的信息，使得页面可以更见规范的接收后端返回的数据
- WebMvcConfig：映射静态资源目录，使得静态资源可以被访问，同时添加对象转换器
- StudentMapper：代理类，与数据库进行交互
- StudentService：用于接收用户提交请求的代码
- StudentController：对页面传来的数据进行响应
- LoginCheckFilter：过滤器，对未进行登录的访问请求进行拦截
- StudenManageApplication：SpringBoot启动类

静态资源

- csss文件：存放页面的样式文件
- element-ui文件：element组件所在文件夹
- img文件：存放页面需要的照片
- js：存放页面的JavaScript文件
- page：存放页面的html文件
- application.yml：项目的配置文件，其中pro是开发环境，dev是生产环境
- pom文件：maven的配置文件，可以管理项目所以需要的依赖，如mysql的引入和版本等

**项目介绍**

远程项目访问路径：http://101.132.78.51:1105/static/page/login.html

- 注册页面介绍

  学号，姓名，密码，确认密码和邮箱都通过JavaScript进行验证，验证使用的正则表达式

    - 学号验证规则：必须为数字，且至少6位数字

    - 姓名验证规则：不能为空

    - 密码验证规则：至少六位

    - 确认密码验证规则：必须和密码保持一致

    - 邮箱验证规则：格式必须为：任意内容 + @ + 任意内容  + . + 任意内容

  ​        当输入内容不符合要求时，页面上的“开始输入”会变成"输入错误"，输入正确的内容后会变成”输入正确“

  性别默认是男生，当选择‘男’和‘女’会在输入框后显示出对应的信息。如果有任意一处不符合要求，点击”注册“按钮时会显示出错误的内容。

  ​        当输入内容符合验证规则时，页面会将表单信息发送到服务端，如果服务端检测到学号已经存在，会给页面返回错误信息，页面收到信息后，会在页面上显示”学号已经存在“，如果没有错误，服务端就会将数据储存在数据库，页面会随之跳转到学生管理页面。

    ```java
      /**
       * 注册功能
       * @param request
       * @param student
       * @return
       */
      @PostMapping("/register")
      public R<Student> register(HttpServletRequest request, @RequestBody Student student){
          //把数据保存在数据库
          studentService.save(student);
          //把用户的id存入session并设置过期时间位10分钟
          HttpSession session = request.getSession();
          session.setAttribute("student",student.getId());
          session.setMaxInactiveInterval(600);
          return R.success(student);
      }
    ```

- 登录页面介绍

  学号和密码通过JavaScript进行验证，并且学号输入框设置了只能输入数字，输入数字外的内容将不会记录，如果学号和密码不符合要求会对用户进行提醒，可以通过链接跳转到注册页面，用户输入符合要求的内容后页面会将数据发送到服务端，如果密码错误或者用户不存在会返回对应信息，如果登录成功，将id存入session

  ```java
      /**
       * 登录功能
       * @param request
       * @param student
       * @return
       */
      @PostMapping("/login")
      public R<Student> login(HttpServletRequest request, @RequestBody Student student){
  
          LambdaQueryWrapper<Student> lqw = new LambdaQueryWrapper<>();
          lqw.eq(Student::getStudentId,student.getStudentId());
          Student stu = studentService.getOne(lqw);//根据Wrapper，查询一条记录
  
          if(stu == null){
              return R.error("该用户不存在！");
          }
  
          String password = student.getPassword();
          if(!password.equals(stu.getPassword())){
              return R.error("密码错误！");
          }
  
          HttpSession session = request.getSession();
          session.setAttribute("student",stu.getId());
          session.setMaxInactiveInterval(600);//设置session存在10分钟
          return R.success(stu);
      }
  ```

- 学生管理页面介绍

  该页面主要由element-ui搭建完成，主要分为三个区域：标题区域，导航区域，主体内容区域

  标题区域：只有”学生信息管理系统“的标题

  导航区域：由四个按钮：”个人信息“，”所有用户列表“，”按条件查询学生“，”新增用户“，分别对应四个方法

    - ”个人信息“：当用户点击”个人信息“按钮时，js会调用方法将个人信息表从不可见状态变为可见，这样就达到了展示个人信息的效果。

    - ”所有用户列表“：当用户点击”所有用户列表“按钮时，js会将个人信息表重新变为不可见状态，同时页面会向服务端发送请求，进行所有用户信息的查询，并将信息展示在主体内容区域

      ```java
          /**
           * 查询所有学生信息
           * @return
           */
          @GetMapping("/list")
          public R<List<Student>> list(){
              List<Student> studentList = studentService.list();
              return R.success(studentList);
          }
      ```

    - ”按条件查询学生“：当用户点击”按条件查询学生“按钮时，页面会弹出一个表单，在上边输入想要查询的信息即完成对学生信息的查询，支持四个字段的查询：学号，姓名，性别，邮箱，其中学号，姓名和邮箱是使用的模糊查询，只要用户的信息包含你要查询的内容就会在页面显示出来，可以留空，留空的字段不参与查询，如果不传递任何查询信息，则执行查询所有操作。

      ```java
          /**
           * 按条件查询学生信息
           * @param student
           * @return
           */
          @PostMapping("/search")
          public R<List<Student>> search(@RequestBody Student student){
              LambdaQueryWrapper<Student> lambdaQueryWrapper = new LambdaQueryWrapper<>();
              lambdaQueryWrapper.like(student.getStudentId() != null,Student::getStudentId,student.getStudentId());
              lambdaQueryWrapper.like(!StringUtils.isEmpty(student.getUsername()),Student::getUsername,student.getUsername());
              lambdaQueryWrapper.eq(!StringUtils.isEmpty(student.getGender()),Student::getGender,student.getGender());
              lambdaQueryWrapper.like(!StringUtils.isEmpty(student.getEmail()),Student::getEmail,student.getEmail());
              List<Student> studentList = studentService.list(lambdaQueryWrapper);
              return R.success(studentList);
          }
      
      ```

    - ”新增用户“：会弹出一个表单，表单和注册页面一样也含有表单验证，信息输入无误后才能新增用户，执行完新增用户操作后，默认会进行一次查询所有操作。

      ```java
          /**
           * 添加学生信息
           * @param student
           * @return
           */
          @PostMapping("/add")
          public R<String> add(@RequestBody Student student){
              log.info(student.getGender());
              if (student.getGender()==null || student.getGender()==""){
                  student.setGender("男生");
              }
              studentService.save(student);
              return R.success("添加成功");
          }
      ```

    - 删除用户：在查询完学生信息后，对应用户后有一个删除按钮，点击后即可删除该用户

      ```java
          @DeleteMapping("/delelte")
          public R<String> delete(Long id){
              boolean check = studentService.removeById(id);
              if (check){
                  return R.success("删除成功");
              }
              return R.error("删除失败");
          }
      ```

  主体内容区域：右上角有一个登出按钮，点击即可退出登录，并清除存储的session，登出下边是，欢迎用户，用户登陆后会动态的获取用户的姓名，进行欢迎。

  ```java
      /**
       * 退出登录功能
       * @param request
       * @return
       */
      @PostMapping("/logout")//网页发送的请求为post方法：/employee/logout
      public R<String> logout(HttpServletRequest request){
          //把员工id从session中去除
          request.getSession().removeAttribute("student");
          return R.success("退出成功");
      }
  ```

  